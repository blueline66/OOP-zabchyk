# Лабораторна робота №21

## Тема

**OCP: гнучкі алгоритми розрахунку (Factory Method / Strategy)**

## Мета роботи

Застосувати принцип відкритості/закритості (Open/Closed Principle, OCP) для створення гнучкої системи розрахунку вартості доставки з використанням патернів **Strategy** та **Factory Method**, забезпечивши можливість додавання нових алгоритмів без зміни існуючого коду.

---

## Теоретичні відомості

**Принцип відкритості/закритості (OCP)** є одним із принципів SOLID і полягає в тому, що програмні сутності повинні бути **відкритими для розширення**, але **закритими для модифікації**. Це дозволяє додавати нову функціональність без зміни вже перевіреного та стабільного коду.

Для реалізації OCP у роботі використано:

* **Strategy** — для інкапсуляції різних алгоритмів розрахунку доставки;
* **Factory Method** — для створення відповідної стратегії на основі вибору користувача.

---

## Структура проєкту

```
lab21
│
├── Program.cs
├── IShippingStrategy.cs
├── StandardShippingStrategy.cs
├── ExpressShippingStrategy.cs
├── InternationalShippingStrategy.cs
├── NightShippingStrategy.cs
├── ShippingStrategyFactory.cs
└── DeliveryService.cs
```

---

## Опис реалізації

### Інтерфейс стратегії

Інтерфейс `IShippingStrategy` визначає єдиний метод для розрахунку вартості доставки.

### Реалізації стратегій

* **StandardShippingStrategy** — стандартний тариф;
* **ExpressShippingStrategy** — підвищений тариф із фіксованою доплатою;
* **InternationalShippingStrategy** — міжнародна доставка з податком;
* **NightShippingStrategy** — нічна доставка з додатковою націнкою.

Кожна стратегія реалізує інтерфейс `IShippingStrategy` і може бути додана без зміни інших класів.

### Фабрика стратегій

Клас `ShippingStrategyFactory` реалізує патерн **Factory Method** та відповідає за створення відповідної стратегії доставки на основі введеного типу.

### Сервіс доставки

Клас `DeliveryService` працює **лише з інтерфейсом**, а не з конкретними реалізаціями стратегій, що забезпечує дотримання принципу OCP.

---

## Демонстрація принципу OCP

Для демонстрації принципу відкритості/закритості було додано новий клас `NightShippingStrategy`. При цьому **код класу `DeliveryService` не змінювався**, що підтверджує коректне застосування OCP.

---

## Приклад роботи програми

Користувач вводить:

* тип доставки;
* відстань;
* вагу посилки.

Після цього програма:

1. Використовує фабрику для створення стратегії;
2. Розраховує вартість доставки;
3. Виводить результат у консоль.

---

## Висновок

У ході лабораторної роботи було створено гнучку систему розрахунку вартості доставки з використанням патернів **Strategy** та **Factory Method**. Принцип **Open/Closed Principle** було повністю дотримано, оскільки додавання нових алгоритмів не потребує змін існуючої логіки. Це підвищує масштабованість, підтримуваність та надійність програмного коду.
